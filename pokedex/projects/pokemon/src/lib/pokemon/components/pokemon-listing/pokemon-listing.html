<div class="container">
  <!-- État de chargement -->
  @if (pokemonList().loading) {
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Chargement...</span>
    </div>
  }

  <!-- Erreur -->
  @if (pokemonList().error) {
    <div class="alert alert-danger">
      {{ pokemonList().error }}
    </div>
  }

  <!-- Chargé -->
  @if (pokemonList().data) {
    <!-- Pagination -->
    <div class="d-flex align-items-center justify-content-center gap-3 mt-4">
      <button
        class="btn btn-sm btn-outline-primary"
        [disabled]="offset === 0"
        (click)="prevPage()">
        Précédent
      </button>

      <span>{{ offset + 1 }} - {{ offset + limit > total ? total : offset + limit }}</span>
      <span class="text-muted"> / {{ total }}</span>

      <button
        class="btn btn-sm btn-outline-primary"
        [disabled]="offset + limit >= total"
        (click)="nextPage()">
        Suivant
      </button>
    </div>

    <!-- Liste -->
    <div class="row">
      @for (p of pokemonList().data?.results; track p.name) {
        <div class="col-md-3" (click)="selectPokemon(p.name)">
          <div class="card mb-3">
            @if (getPokemonImg(p.name)) {
              <img class="card-img-top" [src]="getPokemonImg(p.name)" [alt]="p.name" />
            }
            <div class="card-body">
              <h5 class="card-title">{{ p.name }}</h5>
            </div>
          </div>
        </div>
      }
    </div>
  }
</div>

